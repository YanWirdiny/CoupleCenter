<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Girlfriend Center</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
<div class="hearts-bg"></div>
<!-- Sophisticated Smooth Navbar -->
<nav class="navbar navbar-expand-lg">
    <div class="navbar-container w-100">
        <a href="#" class="navbar-logo">Couple center </a>
        <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse w-100" id="navbarNav">
            <ul class="navbar-menu w-100">
                <li><a href="{{ url_for('homepage') }}">Home</a></li>
                <li><a href="{{ url_for('words_together') }}">Words To Each Other</a></li>
                <li><a href="{{ url_for('gallery') }}">Our Gallery</a></li>
                <li><a href="{{ url_for('profile') }}">Profile</a></li>
                <li><a href="{{ url_for('partner_management') }}">Partner Management</a></li>
                <li><a href="{{ url_for('logout') }}">Logout</a></li>
            </ul>
        </div>
    </div>
</nav>

    <div class="container d-flex flex-column justify-content-center align-items-center" style="min-height: 70vh;">
    {% if not logged_in %}
        <a href="/login" class="btn btn-primary" style="background: linear-gradient(90deg, #ff6a88 0%, #ffb86c 100%); border: none;">Login</a>
    {% else %}
        <h1 class="mb-4 fw-bold display-2" style="font-weight:900;">Welcome to the Couple Center!</h1>
        <p id="slogan" class="lead subtitle-fade mb-4" style="font-size:2rem; font-weight:700; color:#ff6a88;"></p>
        {% if session['couple_id'] and not session.get('partner_linked') %}
           
        {% endif %}
        <div class="row justify-content-center">
            {% for feature in features %}
            <div class="col-md-4 mb-4">
                <div class="card shadow rounded-4 h-100">
                    <div class="card-body text-center">
                        <h5 class="card-title fw-bold" style="color:#ff6a88;">{{ feature.title }}</h5>
                        <p class="card-text">{{ feature.desc }}</p>
                        <a href="{{ feature.link }}" class="btn btn-success mt-2" style="background: linear-gradient(90deg, #ff6a88 0%, #ffb86c 100%); border: none;">Go to {{ feature.title }}</a>
                    </div>
                </div>
            </div>
            {% endfor %}
            {% if logged_in and couple_id and not partner_email %}
<div class="col-md-4 mb-4">
    <div class="card shadow rounded-4 h-100">
        <div class="card-body text-center">
            <h5 class="card-title fw-bold" style="color:#ffb86c;">Add Partner</h5>
            <p class="card-text">Invite your partner to join your couple account and share all features together.</p>
            <button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#addPartnerModal"
                style="background: linear-gradient(90deg, #ffb86c 0%, #ff6a88 100%); border: none;">
                Add Partner
            </button>
        </div>
    </div>
</div>
            {% endif %}
        </div>
        {% if session['user_email'] %}
            <div class="mb-2">
                <span class="fw-bold" style="color:#ff6a88;">You: {{ session['user_email'] }}</span>
                
            </div>
        {% endif %}
        {% if partner_email %}
    <div class="mb-2">
        <span class="fw-bold" style="color:#ffb86c;">Partner: {{ partner_email }}</span>
    </div>
{% endif %}
    {% endif %}
</div>
    <!-- Add Partner Modal -->
<div class="modal fade" id="addPartnerModal" tabindex="-1" aria-labelledby="addPartnerModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-4">
      <div class="modal-header">
        <h5 class="modal-title fw-bold" id="addPartnerModalLabel" style="color:#ff6a88;">Add Your Partner</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body text-center">
        <p class="mb-3">Invite your partner to join your couple account and share all features together.</p>
        <form method="POST" action="{{ url_for('add_partner') }}">
          <input type="email" name="partner_email" class="form-control mb-2" placeholder="Partner's Google Email" required>
          <button type="submit" class="btn btn-primary" style="background: linear-gradient(90deg, #ff6a88 0%, #ffb86c 100%); border: none;">Add Partner</button>
        </form>
      </div>
    </div>
  </div>
</div>
    <div class="hearts-bg"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Fade-in subtitle animation
window.addEventListener('DOMContentLoaded', function() {
    const subtitle = document.querySelector('.subtitle-fade');
    const title = document.querySelector('.display-2');
    if (title) {
        title.style.opacity = 0;
        title.style.transform = 'translateY(30px)';
        title.style.transition = 'opacity 1.2s cubic-bezier(.4,0,.2,1), transform 1.2s cubic-bezier(.4,0,.2,1)';
        setTimeout(() => {
            title.style.opacity = 1;
            title.style.transform = 'translateY(0)';
        }, 300);
    }
    if (subtitle) {
        subtitle.style.opacity = 0;
        subtitle.style.transform = 'translateY(30px)';
        subtitle.style.transition = 'opacity 1.2s cubic-bezier(.4,0,.2,1), transform 1.2s cubic-bezier(.4,0,.2,1)';
        setTimeout(() => {
            subtitle.style.opacity = 1;
            subtitle.style.transform = 'translateY(0)';
        }, 300);
    }
});
// Rain of Hearts Animation
const heartsBg = document.querySelector('.hearts-bg');
const sizes = ['size-sm', 'size-md', 'size-lg','size-xl', '356px'];
function createHeart() {
    const heart = document.createElement('div');
    heart.classList.add('heart');
    heart.classList.add(sizes[Math.floor(Math.random() * sizes.length)]);
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.animationDuration = (2 + Math.random() * 3) + 's';
    heart.style.opacity = 0.7 + Math.random() * 0.3;
    heartsBg.appendChild(heart);
    setTimeout(() => heart.remove(), 5000);
}
setInterval(createHeart, 350);
for (let i = 0; i < 15; i++) createHeart();

// Dynamic slogan typing effect
const sloganText = "A platform to strengthen relationships and share experiences.";
const sloganElem = document.getElementById('slogan');
let sloganIdx = 0;
function typeSlogan() {
    if (sloganElem && sloganIdx <= sloganText.length) {
        sloganElem.textContent = sloganText.slice(0, sloganIdx);
        sloganIdx++;
        setTimeout(typeSlogan, 45);
    }
}
window.addEventListener('DOMContentLoaded', typeSlogan);
</script>
</body>
</html>